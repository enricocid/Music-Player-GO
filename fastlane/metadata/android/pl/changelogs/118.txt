Source code improvements (thanks TacoTheDank, https://gitlab.com/TacoTheDank)